<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="/static/css/materialize.min.css" media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="/static/css/style.css" media="screen,projection"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.10.1/css/all.css"
          integrity="sha384-wxqG4glGB3nlqX0bi23nmgwCSjWIW13BdLUEYC4VIMehfbcro/ATkyDsF/AbIOVe" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/style.css">
    <title>RG - Админ.Панель</title>
</head>
<body style="min-height: 100vh;">

<header>
    <nav class="blue-grey lighten-1">
        <div class="nav-wrapper container ">
            <a href="/" class="brand-logo">RomanGroup</a>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger right"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li class=""><a href="/admin/news">СТАТЬИ</a></li>
                <li class=""><a href="/admin/projects">ПРОЕКТЫ</a></li>
                <li class=""><a href="/admin/social">СОЦ. СЕТИ</a></li>
                <li class="active"><a href="/admin/secure">БЕЗОПАСНОСТЬ</a></li>
                <li><a href="/admin/mail">СООБЩЕНИЯ</a></li>
                <li><a href="/admin/logout"><i class="material-icons right">exit_to_app</i>ВЫХОД</a></li>
            </ul>
        </div>
    </nav>

    <ul class="sidenav collection with-header" id="mobile-demo">
        <li class="collection-header"><h4 class="blue-grey-text">RomanGroup</h4></li>
        <li class="collection-item"><a href="/" class="collection-item blue-grey-text">ГЛАВНАЯ</a></li>
        <li class="collection-item"><a href="/admin/news" class="collection-item blue-grey-text">СТАТЬИ</a></li>
        <li class="collection-item"><a href="/admin/projects" class="collection-item blue-grey-text">ПРОЕКТЫ</a></li>
        <li class="collection-item"><a href="/admin/social" class="collection-item blue-grey-text">СОЦ. СЕТИ</a></li>
        <li class="collection-item blue-grey"><a href="/admin/secure" class="white-text">БЕЗОПАСНОСТЬ</a></li>
        <li class="collection-item"><a href="/admin/mail" class="collection-item blue-grey-text">СООБЩЕНИЯ</a></li>
        <li class="collection-item"><a href="/admin/logout" class="collection-item blue-grey-text">ВЫХОД</a></li>
    </ul>
</header>

<main class="content container">

    <section class="section">

        <h4 class="center-align"><b>СМЕНИТЬ ПАРОЛЬ</b></h4>


        <form class="center-align" action="" method="post">
            <div class="row center">

                {{ if ne (len .flashes) 0 }}
                    {{ range .flashes }}
                        <div class="blue-grey col s10 m8 offset-m2 offset-s1 white-text center-align" style="padding: 1rem; margin-top: 1rem; margin-bottom: 1rem;">
                            {{ . }}
                        </div>
                    {{ end }}
                {{ end }}


                <div class="input-field col s10 m8 offset-m2 offset-s1">
                    <input id="oldpass" name="oldpass" type="password" class="validate">
                    <label for="oldpass">Старый пароль</label>
                </div>
                <div class="input-field col s10 m8 offset-m2 offset-s1">
                    <input id="newpass" name="newpass" type="password" class="validate">
                    <label for="newpass">Новый пароль</label>
                </div>
                <div class="input-field col s10 m8 offset-m2 offset-s1">
                    <input id="newpass2" name="newpass2" type="password" class="validate">
                    <label for="newpass2">Повторите новый пароль</label>
                </div>
                <div class="input-field col s10 m8 offset-m2 offset-s1">
                    <button class="btn waves-block blue-grey">сохранить</button>
                </div>
                {{ .csrfField }}
            </div>
        </form>

    </section>


</main>


<footer class="page-footer blue-grey">
    <div class="footer-copyright">
        <div class="container center-align">
            © 2019 RomanGroup
        </div>
    </div>
</footer>


<!--JavaScript at end of body for optimized loading-->
<script type="text/javascript" src="/static/js/materialize.min.js"></script>

</body>

<script type="text/javascript">

    document.addEventListener('DOMContentLoaded', function () {
        var elems_sidenav = document.querySelectorAll('.sidenav');
        var sidenav = M.Sidenav.init(elems_sidenav, {});

        var elems_materialboxed = document.querySelectorAll('.materialboxed');
        var materialboxed = M.Materialbox.init(elems_materialboxed, {});

    });

    window.onload = function () {
        document.getElementById("newpass").onchange = validatePassword;
        document.getElementById("newpass2").onchange = validatePassword;
    };

    function validatePassword() {
        var pass2 = document.getElementById("newpass").value;
        var pass1 = document.getElementById("newpass2").value;
        if (pass1 !== pass2)
            document.getElementById("newpass2").setCustomValidity("пароли не совпадают");
        else
            document.getElementById("newpass2").setCustomValidity('');
    }


</script>
</html>